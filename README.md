# BeeaNexus - 我的世界服务器管理应用

欢迎来到 BeeaNexus！这是一个专为Minecraft服务器打造的客户端-服务端管理应用。它集成了用户管理、即时通讯、白名单管理、商城、论坛和签到系统等多种功能，旨在提升服务器管理效率和用户体验。
```
⚠️  注意：当前项目尚未正式发布测试版。感谢您的关注与支持，敬请期待后续更新！
```
## 功能列表（方括号为尚未实现）

### 用户管理
- **注册与登录**：支持新用户注册和现有用户登录。
- **个人资料管理**：用户可查看和更新个人资料，包括昵称、邮箱和手机号等。
- **用户状态管理**：系统标记用户在线或离线状态。

### 即时通讯
- **消息发送与接收**：用户间可发送和接收文本消息。
- **消息历史记录**：支持查看过往聊天记录。
- **联系人管理**：用户可添加、删除联系人并查看联系人列表。

### 白名单管理
- **申请白名单**：用户可提交白名单申请，包含玩家名和账号类型等信息。
- **审核白名单**：管理员可高效审核白名单申请，批准或拒绝申请。

### 签到功能
- **每日签到**：用户每日可签到一次，获取随机奖励。
- **签到奖励**：签到后系统给予一定数量的金币或星星作为奖励。

### 排行榜
- **金币排行榜**：基于用户拥有的金币数量进行排名。
- **星星排行榜**：基于用户拥有的星星数量进行排名。

### [商城]
- **金币商品列表**：系统提供多种基础商品供用户购买。
- **星星商品列表**：系统提供多种高级商品供用户购买。

### [QQ绑定]
- **QQ绑定**：在QQ机器人的帮助下用户可绑定QQ账号。

### [论坛]
- **论坛功能**：用户可发布帖子和回复，并查看其他用户的帖子和回复。
- **公告栏**：系统可发布公告，用户可查看。

## 技术栈

- **编程语言**：Python
- **前端框架**：PyQt5
- **数据库**：MySQL
- **通信协议**：TCP、RCON
- **其他技术**：`socketserver` 模块、SSL/TLS 加密

## 环境配置

### 操作系统
- 客户端：Windows 10/11
- 服务端：Windows 10/11

### 依赖库
- PyQt5
- mysql-connector-python
- bcrypt
- requests

## 安装步骤

### 服务端

1. **安装 Python**：
   - 从 [Python 官网](https://www.python.org/) 下载并安装 Python 3.8 或更高版本。
   - 确保安装过程中勾选 “Add Python to PATH” 选项。

2. **克隆项目仓库**：
   ```bash
   git clone <repository-url>
   cd <project-directory>
   ```

3. **安装依赖库**：
   ```bash
   pip install pyqt5 mysql-connector-python bcrypt requests
   ```

4. **设置数据库**：
   - 创建数据库 `User_All`。
   - 使用提供的 SQL 脚本初始化数据库结构。

5. **配置服务端**：
   - 在 `server.py` 中配置数据库连接信息和 RCON 信息：
     ```python
     DB_CONFIG = {
         'user': 'root',
         'password': 'your-mysql-password',
         'host': 'your-mysql-host',
         'database': 'User_All'
     }

     RCON_CONFIG = {
         'host': 'your-server-ip',
         'port': 25565,
         'password': 'your-rcon-password'
     }
     ```

6. **启动服务端**：
   ```bash
   python server.py
   ```

### 客户端

1. **安装客户端**：
   - 从官网下载客户端 Python 程序。

2. **配置客户端**：
   - 在 `client.py` 中配置服务器连接信息：
     ```python
     def __init__(self, host="your-server-ip", port=<your-port>):
         super().__init__()
         self.real_time_message.connect(self._on_real_time, Qt.QueuedConnection)
         self.host, self.port = host, port
         self._sock = None
         self._lock = threading.Lock()
         self._seq = 0
         self._pendings = {}
         self.client_ip = self._get_public_ip()
         self._connect()
     ```

3. **打包客户端**：
   - 通过 PyInstaller 打包为 exe 文件：
     ```bash
     pyinstaller --onefile client.py
     ```
   - 分发给用户群体。

## 使用指南

### 快速入门

1. **注册账户**：
   - 打开客户端，点击导航栏 “用户”，选择 “注册”。
   - 填写用户名、密码、邮箱、手机号等信息。
   - 点击 “注册” 按钮完成注册。

2. **登录账户**：
   - 在登录界面输入用户名和密码。
   - 点击导航栏 “用户”，选择 “登录”。

3. **开始使用**：
   - 登录后，通过导航栏访问不同功能模块：
     - **主页**：查看欢迎信息。
     - **签到/排行**：进行每日签到并查看排行榜。
     - **个人资料**：查看和更新个人资料。
     - **白名单申请**：提交白名单申请。
     - **传声筒**：与联系人进行实时聊天。
     - **管理员控制台**：管理员可管理用户和审核白名单申请。

### 功能使用

1. **即时通讯**：
   - 登录后，点击 “传声筒” 进入聊天界面。
   - 在联系人列表中选择一个联系人开始聊天。
   - 点击 “添加联系人” 按钮，输入用户 ID 添加新联系人。

2. **白名单申请**：
   - 点击 “白名单申请” 进入申请页面。
   - 填写玩家名、账号类型和申请理由。
   - 点击 “提交” 按钮提交申请。

3. **签到**：
   - 点击 “签到/排行” 进入签到页面。
   - 点击 “今日签到” 按钮获取奖励。

4. **个人资料**：
   - 查看和更新个人资料信息。

## 测试

### 测试范围
- 用户管理：注册、登录、登出、查看和更新个人资料。
- 即时通讯：发送消息、接收消息、查看历史消息、管理联系人。
- 白名单管理：提交白名单申请、审核白名单申请。
- 排行榜系统：查看金币排行榜和星星排行榜。
- 签到系统：每日签到、获取签到奖励。
- 管理员功能：用户管理、白名单审核。

### 测试策略
- **单元测试**：使用 Python 的 `unittest` 框架对服务端业务逻辑进行测试。
- **集成测试**：测试客户端与服务端之间的交互，确保数据传输正确性和响应及时性。
- **系统测试**：在完整测试环境中运行客户端和服务端，模拟真实用户场景。

## 项目维护

### 维护计划
- **日常维护**：每周检查系统运行状态，确保服务端正常运行。
- **定期更新**：每月进行一次功能更新和性能优化。
- **用户反馈处理**：在收到用户反馈后 3 个工作日内进行处理。

### 版本控制
- **版本历史**：
  - **v1.0.0**：初始版本，实现用户注册、登录、即时通讯、白名单申请、排行榜、签到等功能。
  - **v1.0.1**：修复消息丢失问题，优化未读消息计数逻辑，改进白名单申请文件存储路径。
  - **v1.0.2**：增加用户资料编辑功能，优化 UI 界面，提升用户体验。

- **更新指南**：
  1. 备份数据：更新前备份数据库和重要配置文件。
  2. 下载新版本：从官方仓库或发布页面下载最新版本代码。
  3. 更新代码：替换旧版本代码文件，保留配置文件和数据库连接信息。
  4. 迁移数据库：根据更新日志运行数据库迁移脚本（如有数据库结构变更）。
  5. 测试新版本：在测试环境中运行新版本，确保所有功能正常。
  6. 正式发布：停止旧版本服务端，启动新版本服务端，通知用户更新客户端。


## 联系我们

如有任何问题或建议，请通过以下方式联系我们：
- GitHub 问题跟踪：[ Issues ](https://github.com/SiiNouBeea/BeeaNexus/issues)
- 邮箱：1184529540@qq.com

## 开发者名单
- **SiiNouBeea**：项目 lead，代码编写，测试，文档编写。 [GitHub Page](https://SiiNouBeea.github.io)

## 鸣谢
感谢你的支持！
